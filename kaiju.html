<html>
<head>
    <meta charset="utf-8" />
    <title>è‚‰é¸½å¼€å±€ç”Ÿæˆå™¨</title>
    <!-- <link rel="icon" href="./favicon.ico"> -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QGM58QCD7C"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-QGM58QCD7C');
    </script>
    <script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>
</head>

<body>
    <div id="div_overlay" style="display:none">
        <div id="div_overlay_container">
            <table class="table_text" id="table_overlay_header">
                <tr>
                    <td id="td_overlay_header_back">
                        <div id="div_overlay_header_back" onclick="handle_overlay();">ï¼œ</div>
                    </td>
                    <th id="th_overlay_header_title"><span id="span_overlay_header_icon">âš™</span><span id="span_overlay_header_title">è®¾ç½®</span></th>
                    <td>&nbsp;</td>
                </tr>
            </table>
            <div id="div_overlay_content"></div>
        </div>
    </div>
    <div id="div_background">
        <table class="table_text" id="table_navbar">
            <tr>
                <td>
                    <div class="div_button" id="div_navbar_button_settings" onclick="handle_overlay('settings');">âš™</div>
                </td>
                <td>
                    <div class="div_red_spot" id="div_red_spot_update_log" style="display: none;"></div>
                    <div class="div_button" id="div_navbar_button_update_log" onclick="handle_overlay('update_log');">âš </div>
                </td>
                <td>
                    <div class="div_red_spot" id="div_red_spot_mail" style="display: none;"></div>
                    <div class="div_button" id="div_navbar_button_mail" onclick="handle_overlay('mail');">âœ‰</div>
                </td>
                <td>
                    <div class="div_button" id="div_navbar_button_document" onclick="handle_overlay('document');">ğŸ“–</div>
                </td>
                <td>
                    <div class="div_button" onclick="location.reload();" style="display: none;">ğŸ“…</div>
                </td>
                <td style="width: auto;">&nbsp;</td>
                <td style="width: 10em; text-align: right; padding-right: 1em;">
                    <div id="div_current_datetime"></div>
                </td>
                <td>
                    <div class="div_button" onclick="location.reload();">âŸ³</div>
                </td>
            </tr>
        </table>
        <div id="div_document" style="display: none;"></div>
        <div id="div_settings" style="display: none;">
            <table class="table_text" id="table_settings" onclick="save_settings();">
                <tr id="tr_mode_1"><th colspan="4"><div class="div_button" onclick="handle_box_mode(2);">å½“å‰ä¸ºåŸºç¡€æ¨¡å¼ï¼Œç‚¹å‡»åˆ‡æ¢åˆ°å¡ç»„æ¨¡å¼</div></th></tr>
                <tr id="tr_mode_2"><th colspan="4"><div class="div_button" onclick="handle_box_mode(1);">å½“å‰ä¸ºå¡ç»„æ¨¡å¼ï¼Œç‚¹å‡»åˆ‡æ¢åˆ°åŸºç¡€æ¨¡å¼</div></th></tr>
                <tr>
                    <td>
                        é›†æˆæˆ˜ç•¥ï¼š
                    </td>
                    <td>
                        <input id="is_4" type="checkbox" checked><label for="is_4">æ¢ç´¢è€…çš„é“¶å‡‡æ­¢å¢ƒ</label>
                    </td>
                    <td>
                        <input id="is_3" type="checkbox"><label for="is_3">æ°´æœˆä¸æ·±è“ä¹‹æ ‘</label>
                    </td>
                    <td>
                        <input id="is_2" type="checkbox"><label for="is_2">å‚€å½±ä¸çŒ©çº¢å­¤é’»</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        å…è®¸ä½¿ç”¨ä¸åœ¨boxä¸­çš„å¹²å‘˜å¼€å±€ï¼ˆæ‹›å‹ŸåŠ©æˆ˜ï¼‰<span id="support_unit_disabled_in_deck_mode"></span>
                    </td>
                    <td>
                        <input id="support_unit_enabled" type="checkbox"><label for="support_unit_enabled">å¼€å¯</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        ä»…ä½¿ç”¨èŒä¸šåˆ†é˜Ÿå¼€å±€
                    </td>
                    <td>
                        <input id="job_group_only" type="checkbox"><label for="job_group_only">å¼€å¯</label>
                    </td>
                </tr>
                <tr>
                    <td>
                        è‡ªå®šä¹‰box
                    </td>
                    <td>
                        <div class="div_button_settings" id="div_button_settings_box" onclick="handle_box_settings(1);" style="width: 80%;">å±•å¼€box</div>
                    </td>
                    <td>
                        <div class="div_button_settings" id="div_button_settings_deck" onclick="handle_box_settings(2);" style="width: 80%;">å±•å¼€å¡ç»„</div>
                    </td>
                </tr>
            </table>
            <table class="table_text" id="table_box_basic" onclick="update_current_deck(); save_settings();" style="display: none; table-layout: auto; border: 1px solid #CCCCCC; user-select: none;">
                <tr><th style="width: 80px;">å…ˆé”‹</th><td style="width: auto;" id="td_box_operators_star_6_å…ˆé”‹"></td></tr>
                <tr><th style="width: 80px;">è¿‘å«</th><td style="width: auto;" id="td_box_operators_star_6_è¿‘å«"></td></tr>
                <tr><th style="width: 80px;">é‡è£…</th><td style="width: auto;" id="td_box_operators_star_6_é‡è£…"></td></tr>
                <tr><th style="width: 80px;">ç‹™å‡»</th><td style="width: auto;" id="td_box_operators_star_6_ç‹™å‡»"></td></tr>
                <tr><th style="width: 80px;">æœ¯å¸ˆ</th><td style="width: auto;" id="td_box_operators_star_6_æœ¯å¸ˆ"></td></tr>
                <tr><th style="width: 80px;">åŒ»ç–—</th><td style="width: auto;" id="td_box_operators_star_6_åŒ»ç–—"></td></tr>
                <tr><th style="width: 80px;">è¾…åŠ©</th><td style="width: auto;" id="td_box_operators_star_6_è¾…åŠ©"></td></tr>
                <tr><th style="width: 80px;">ç‰¹ç§</th><td style="width: auto;" id="td_box_operators_star_6_ç‰¹ç§"></td></tr>
            </table>
            <table class="table_text" id="table_box_deck" onclick="save_settings();" style="display: none; border: 1px solid #CCCCCC; user-select: none;">
                <tr>
                    <td>å½“å‰ <span id="td_deck_count">0</span>ï¼Œä¸‹é™ 40ï¼Œä¸Šé™ 60</td>
                    <th><div class="div_button" onclick="handle_full_deck();">æ¸…ç©ºå½“å‰å¡ç»„</div></th>
                    <th><div class="div_button" onclick="handle_full_deck(DEFAULT_DECK);">ä½¿ç”¨é»˜è®¤å¡ç»„</div></th>
                </tr>
                <tr class="tr_border_bottom"><td colspan="4" id="td_current_deck_all" style="font-size: 0; padding: 1rem;">å½“å‰å¡ç»„ä¸ºç©º</td></tr>
                <tr class="tr_border_bottom"><th>å…ˆé”‹</th><td colspan="3" id="td_deck_operators_å…ˆé”‹" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>è¿‘å«</th><td colspan="3" id="td_deck_operators_è¿‘å«" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>é‡è£…</th><td colspan="3" id="td_deck_operators_é‡è£…" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>ç‹™å‡»</th><td colspan="3" id="td_deck_operators_ç‹™å‡»" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>æœ¯å¸ˆ</th><td colspan="3" id="td_deck_operators_æœ¯å¸ˆ" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>åŒ»ç–—</th><td colspan="3" id="td_deck_operators_åŒ»ç–—" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>è¾…åŠ©</th><td colspan="3" id="td_deck_operators_è¾…åŠ©" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
                <tr class="tr_border_bottom"><th>ç‰¹ç§</th><td colspan="3" id="td_deck_operators_ç‰¹ç§" style="width: auto; font-size: 0; padding: 1rem;"></td></tr>
            </table>
        </div>
        <div id="div_update_log" style="display: none;"></div>
        <div id="div_mail" style="display: none;"></div>
        <table class="table_text" id="table_main">
            <tr>
                <th colspan="2">
                    <div class="elm_outline elm_white" id="div_title">
                        è‚‰é¸½å¼€å±€ç”Ÿæˆå™¨
                        <div id="div_version">
                            <div class="div_red_spot" id="div_red_spot_version" style="display: none;"></div>
                            <span id="span_version"></span>
                        </div>

                    </div>
                </th>
            </tr>
            <tr style="user-select: none;">
                <th colspan="1">æˆ‘æ˜¯ <input type="text" id="user_id" onkeypress="handle_input_keypress(event);"></th>
                <th colspan="1"><div class="div_button" onclick="reset_opening_today_4();">é‡ç½®</div></th>
            </tr>
            <tr id="tr_today_button">
                <th colspan="2"><div class="div_button elm_outline elm_white" onclick="get_opening_today();">ä»Šæ—¥å¼€å±€ï¼</div></th>
            </tr>
            <tr id="tr_today_result" style="display: none;">
                <td colspan="2" id="td_today"></td>
            </tr>
            <tr id="tr_drama_button_1">
                <th colspan="2" style="color: #ffbf92;"><div class="div_button elm_outline elm_orange" onclick="get_drama_today(7);">ä»Šæ—¥å‰§æœ¬ï¼</div></th>
            </tr>
            <tr id="tr_drama_button_2">
                <th colspan="1"><div class="div_button elm_outline elm_green" onclick="get_drama_today(3);">ä»Šæ—¥å‰§æœ¬é’æ˜¥ç‰ˆï¼</div></th>
                <th colspan="1"><div class="div_button elm_outline elm_red" onclick="get_drama_today(15);">ä»Šæ—¥å‰§æœ¬+ï¼</div></th>
            </tr>
            <tr id="tr_drama_result" style="display: none;">
                <td colspan="2" id="td_drama"></td>
            </tr>
        </table>
        <textarea id="textarea_copy">ä½œè€…ï¼šç¾½æ³¢</textarea>
    </div>

    <script>
        let current_timestamp = new Date().getTime();
        document.write(`<link type="text/css" rel="stylesheet" href="css/common.css?timestamp=${current_timestamp}">`);
        document.write(`<script type="text/javascript" src="js/kaiju.js?timestamp=${current_timestamp}"><\/script>`);
    </script>
    <script>
        // é¡µé¢åŠ è½½å®Œæˆæ—¶æ‰§è¡Œ
        init_version();
        init_all_operators();
        init_table_box_basic();
        update_current_operators();
        init_table_box_deck();
        load_settings();
        handle_box_mode(current_box_mode);
        update_current_deck();
        load_contents();
        handle_red_spot();
        update_current_datetime();
        setInterval(update_current_datetime, 1000);
    </script>
</body>
</html>